{"ast":null,"code":"import React,{useEffect,useState}from'react';import BackButton from'../components/ui/BackButton';import ProceedButton from'../components/ui/ProceedButton';import axios from'axios';import{useNavigate}from'react-router-dom';import{useOutlineAnim}from'../anim';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Location=_ref=>{let{setIsIntro}=_ref;useOutlineAnim();const[legend,setLegend]=useState('Click to Type');const[proceed,setProceed]=useState(false);let navigate=useNavigate();async function goNext(e){if(e.key==='Enter'){if(checkInp(e.target.value)){navigate('/upload');const localName=localStorage.getItem('name');const localLocation=localStorage.getItem('location');await axios({method:'POST',data:{name:localName,location:localLocation},url:'/api/create'});const result=await axios({method:'POST',data:{name:localName,location:localLocation},url:'https://us-central1-api-skinstric-ai.cloudfunctions.net/skinstricPhaseOne'});return result;}}}function checkInp(loc){let reg=/^[A-Za-z\\s]+$/;return reg.test(loc);}function saveLocation(loc){if(checkInp(loc)){localStorage.setItem('location',loc);setProceed(true);}else{setProceed(false);}}function fetchLocation(){return localStorage.getItem('location');}useEffect(()=>{let loc=localStorage.getItem('location');if(loc&&checkInp(loc)){setProceed(true);}},[]);return/*#__PURE__*/_jsxs(\"section\",{id:\"location\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-subhead\",children:\"to start analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"location__inp\",children:[/*#__PURE__*/_jsx(\"legend\",{children:legend}),/*#__PURE__*/_jsx(\"input\",{onKeyDown:e=>goNext(e),onFocus:()=>setLegend('Where are you from?'),onBlur:()=>setLegend('Click to Type'),onChange:e=>saveLocation(e.target.value),type:\"text\",placeholder:fetchLocation()||\"Where are you from?\"})]}),/*#__PURE__*/_jsx(\"div\",{onClick:setIsIntro,children:/*#__PURE__*/_jsx(BackButton,{loc:\"/introduction\"})}),/*#__PURE__*/_jsx(ProceedButton,{loc:\"/upload\",proceed:proceed})]});};export default Location;","map":{"version":3,"names":["React","useEffect","useState","BackButton","ProceedButton","axios","useNavigate","useOutlineAnim","jsx","_jsx","jsxs","_jsxs","Location","_ref","setIsIntro","legend","setLegend","proceed","setProceed","navigate","goNext","e","key","checkInp","target","value","localName","localStorage","getItem","localLocation","method","data","name","location","url","result","loc","reg","test","saveLocation","setItem","fetchLocation","id","children","className","onKeyDown","onFocus","onBlur","onChange","type","placeholder","onClick"],"sources":["C:/Users/Code/Desktop/Code/skinstric-ai/client/src/pages/Location.jsx"],"sourcesContent":["\r\nimport React, { useEffect, useState } from 'react'\r\nimport BackButton from '../components/ui/BackButton'\r\nimport ProceedButton from '../components/ui/ProceedButton'\r\nimport axios from 'axios'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useOutlineAnim } from '../anim'\r\n\r\nconst Location = ({ setIsIntro }) => {\r\n\r\n    useOutlineAnim()\r\n\r\n    const [legend, setLegend] = useState('Click to Type')\r\n    const [proceed, setProceed] = useState(false)\r\n\r\n    let navigate = useNavigate()\r\n\r\n    async function goNext(e) {\r\n        if (e.key === 'Enter') {\r\n            if (checkInp(e.target.value)) {\r\n\r\n                navigate('/upload')\r\n\r\n                const localName = localStorage.getItem('name')\r\n                const localLocation = localStorage.getItem('location')\r\n\r\n                await axios({\r\n                    method: 'POST',\r\n                    data: {\r\n                        name: localName,\r\n                        location: localLocation\r\n                    },\r\n                    url: '/api/create'\r\n                })\r\n\r\n                const result = await axios({\r\n                    method: 'POST',\r\n                    data: {\r\n                        name: localName,\r\n                        location: localLocation\r\n                    },\r\n                    url: 'https://us-central1-api-skinstric-ai.cloudfunctions.net/skinstricPhaseOne'\r\n                })\r\n                return result\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    function checkInp(loc) {\r\n        let reg = /^[A-Za-z\\s]+$/\r\n        return reg.test(loc)\r\n    }\r\n\r\n    function saveLocation(loc) {\r\n        if (checkInp(loc)) {\r\n            localStorage.setItem('location', loc)\r\n            setProceed(true)\r\n        } else {\r\n            setProceed(false)\r\n        }\r\n    }\r\n\r\n    function fetchLocation() {\r\n        return localStorage.getItem('location')\r\n    }\r\n\r\n    useEffect(() => {\r\n        let loc = localStorage.getItem('location')\r\n        if (loc && checkInp(loc)) {\r\n            setProceed(true)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <section id=\"location\">\r\n            <div className=\"section-subhead\">to start analysis</div>\r\n            <div className=\"location__inp\">\r\n                <legend>{legend}</legend>\r\n                <input\r\n                    onKeyDown={(e) => goNext(e)}\r\n                    onFocus={() => setLegend('Where are you from?')}\r\n                    onBlur={() => setLegend('Click to Type')}\r\n                    onChange={(e) => saveLocation(e.target.value)}\r\n                    type=\"text\"\r\n                    placeholder={fetchLocation() || \"Where are you from?\"} />\r\n            </div>\r\n\r\n            <div\r\n                onClick={setIsIntro}\r\n            >\r\n                <BackButton loc=\"/introduction\" />\r\n            </div>\r\n            <ProceedButton loc=\"/upload\" proceed={proceed} />\r\n\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Location\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}